# Atlas Viewer

A dynamic, interactive viewer for the Sky Atlas documentation with advanced comparison and navigation features.

## Features

### ğŸ“š Core Viewing
- **Collapsible Tree Structure** - Browse the entire Atlas documentation hierarchy
- **Dynamic Data Loading** - Automatically displays all sections from any array field containing document nodes
- **Markdown Rendering** - Full markdown support for all content sections
- **Dark Mode** - Professional dark theme using Mantine UI

### âŒ¨ï¸ Navigation
- **Keyboard Controls**:
  - `â†` / `â†’` - Navigate between nodes
  - `â†‘` / `â†“` - Navigate and collapse nodes
  - `Enter` / `Space` - Toggle expansion
- **Click Navigation** - Expand/collapse nodes and navigate the tree
- **Visual Selection** - Selected nodes display with:
  - Larger font sizes
  - Highlighted borders
  - Automatic scroll-to-view

### ğŸ“Š Advanced Features
- **Child Count Display** - See how many descendants each node has
- **Expand All** - Recursively expand entire branches
- **Collapse All** - Reset view to top-level scopes

### ğŸ”¬ Agent Comparison
- **Side-by-Side View** - Compare Spark, Grove, Launch Agent 4, and the Template simultaneously
- **Structural Alignment** - Sections align by position (doc_no suffix), not name
- **Missing Section Indicators** - Blank spaces show when sections exist in some agents but not others
- **Agent Template Display** - Reference template for creating new agents

## Installation

```bash
# Install dependencies
npm install

# Start development server
npm run dev

# Build for production
npm run build
```

## Data Structure

The viewer dynamically handles any JSON tree structure with the following node format:

```json
{
  "type": "Scope|Article|Section|Core|Primary",
  "doc_no": "A.1.2.3",
  "name": "Section Name",
  "uuid": "unique-identifier",
  "content": "Markdown content...",
  "sections_and_primary_docs": [],
  "articles": [],
  "agent_scope_database": [],
  "annotations": [],
  "tenets": [],
  "active_data": [],
  "needed_research": [],
  "scenarios": [],
  "scenario_variations": []
}
```

The viewer will automatically detect and display children from **any** array field containing document nodes (objects with `type`, `doc_no`, `name`, and `uuid` fields).

## Updating Data

To update the Atlas data:

1. Replace `/public/atlas-2025-11-20.json` with your updated file
2. Refresh the browser (no rebuild needed)

The filename is currently hardcoded. To use a different filename, update the fetch URL in `src/App.tsx`.

## Agent Template

The `agent-template.json` file contains a template generated by comparing Spark, Grove, and Launch Agent 4. It includes:

- **All sections** that appear in all three reference agents
- **Variables**: `N` for agent number, `NAME` for agent name, etc.
- **Preserved structure**: Common doc_no patterns like `A.6.1.1.N.2.1`

See `agent-template-README.md` for detailed usage instructions.

## Technology Stack

- **React 18** - UI framework
- **TypeScript** - Type safety
- **Vite** - Build tool and dev server
- **Mantine UI** - Component library and dark theme
- **React Markdown** - Markdown rendering
- **Tabler Icons** - Icon set

## Project Structure

```
atlas-viewer/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ atlas-2025-11-20.json      # Main Atlas data
â”‚   â””â”€â”€ agent-template.json         # Agent template
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.tsx                     # Main application
â”‚   â”œâ”€â”€ TreeNode.tsx                # Collapsible tree component
â”‚   â”œâ”€â”€ AgentComparisonAligned.tsx  # Side-by-side comparison
â”‚   â””â”€â”€ types.ts                    # TypeScript interfaces
â”œâ”€â”€ agent-template-README.md        # Template documentation
â””â”€â”€ README.md                       # This file
```

## Contributing

This viewer is designed to be generic and handle any Atlas JSON structure. The tree traversal automatically detects document nodes in any array field, making it adaptable to schema changes.

## License

[Add your license here]
